{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\carol\\\\OneDrive\\\\Pulpit\\\\CLAB\\\\untitled\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\carol\\\\OneDrive\\\\Pulpit\\\\CLAB\\\\untitled\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport CreateOrder from \"./CreateOrder\";\nvar PriceCalculator = /*#__PURE__*/function () {\n  function PriceCalculator() {\n    _classCallCheck(this, PriceCalculator);\n  }\n  _createClass(PriceCalculator, [{\n    key: \"calculate\",\n    value: function calculate(position, amount) {\n      if (amount == 0) {\n        return {\n          price: 0,\n          threshold: null\n        };\n      }\n      var tresholdLength = position.discount.length;\n      var minDiscount = null;\n      for (var i = 0; i < tresholdLength; i++) {\n        if (amount >= position.discount[i].minAmount && (null == minDiscount || minDiscount.minAmount < position.discount[i].minAmount)) {\n          minDiscount = position.discount[i];\n        }\n      }\n      if (null == minDiscount) {\n        throw new Error(\"Not found discount for amount \" + amount);\n      }\n      var resAmount = amount * minDiscount.price;\n      return {\n        price: Math.round(resAmount * 100) / 100,\n        threshold: minDiscount\n      };\n    }\n  }]);\n  return PriceCalculator;\n}();\nexport default PriceCalculator;","map":{"version":3,"names":["CreateOrder","PriceCalculator","_classCallCheck","_createClass","key","value","calculate","position","amount","price","threshold","tresholdLength","discount","length","minDiscount","i","minAmount","Error","resAmount","Math","round"],"sources":["C:/Users/carol/OneDrive/Pulpit/CLAB/untitled/src/PriceCalculator.js"],"sourcesContent":["import CreateOrder from \"./CreateOrder\";\r\n\r\nclass PriceCalculator {\r\n\r\n    calculate(position, amount) {\r\n        if (amount == 0) {\r\n            return {\r\n                price: 0,\r\n                threshold: null\r\n            };\r\n        }\r\n\r\n        var tresholdLength = position.discount.length;\r\n        var minDiscount = null;\r\n        for (var i = 0; i < tresholdLength; i++) {\r\n            if (amount >= position.discount[i].minAmount\r\n                && (null == minDiscount || minDiscount.minAmount < position.discount[i].minAmount)) {\r\n                minDiscount = position.discount[i];\r\n            }\r\n        }\r\n\r\n        if (null == minDiscount) {\r\n            throw new Error(\"Not found discount for amount \" + amount);\r\n        }\r\n\r\n        let resAmount = amount * minDiscount.price\r\n\r\n        return {\r\n            price: Math.round(resAmount * 100) / 100,\r\n            threshold: minDiscount\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default PriceCalculator;\r\n"],"mappings":";;AAAA,OAAOA,WAAW,MAAM,eAAe;AAAC,IAElCC,eAAe;EAAA,SAAAA,gBAAA;IAAAC,eAAA,OAAAD,eAAA;EAAA;EAAAE,YAAA,CAAAF,eAAA;IAAAG,GAAA;IAAAC,KAAA,WAAAC,UAEPC,QAAQ,EAAEC,MAAM,EAAE;MACxB,IAAIA,MAAM,IAAI,CAAC,EAAE;QACb,OAAO;UACHC,KAAK,EAAE,CAAC;UACRC,SAAS,EAAE;QACf,CAAC;MACL;MAEA,IAAIC,cAAc,GAAGJ,QAAQ,CAACK,QAAQ,CAACC,MAAM;MAC7C,IAAIC,WAAW,GAAG,IAAI;MACtB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,cAAc,EAAEI,CAAC,EAAE,EAAE;QACrC,IAAIP,MAAM,IAAID,QAAQ,CAACK,QAAQ,CAACG,CAAC,CAAC,CAACC,SAAS,KACpC,IAAI,IAAIF,WAAW,IAAIA,WAAW,CAACE,SAAS,GAAGT,QAAQ,CAACK,QAAQ,CAACG,CAAC,CAAC,CAACC,SAAS,CAAC,EAAE;UACpFF,WAAW,GAAGP,QAAQ,CAACK,QAAQ,CAACG,CAAC,CAAC;QACtC;MACJ;MAEA,IAAI,IAAI,IAAID,WAAW,EAAE;QACrB,MAAM,IAAIG,KAAK,CAAC,gCAAgC,GAAGT,MAAM,CAAC;MAC9D;MAEA,IAAIU,SAAS,GAAGV,MAAM,GAAGM,WAAW,CAACL,KAAK;MAE1C,OAAO;QACHA,KAAK,EAAEU,IAAI,CAACC,KAAK,CAACF,SAAS,GAAG,GAAG,CAAC,GAAG,GAAG;QACxCR,SAAS,EAAEI;MACf,CAAC;IACL;EAAC;EAAA,OAAAb,eAAA;AAAA;AAKL,eAAeA,eAAe"},"metadata":{},"sourceType":"module"}